# Copyright (c) 2013 Shotgun Software Inc.
# 
# CONFIDENTIAL AND PROPRIETARY
# 
# This work is provided "AS IS" and subject to the Shotgun Pipeline Toolkit 
# Source Code License included in this distribution package. See LICENSE.
# By accessing, using, copying or modifying this work you indicate your 
# agreement to the Shotgun Pipeline Toolkit Source Code License. All rights 
# not expressly granted therein are reserved by Shotgun Software Inc.

# Metadata defining the behavior and requirements for this app

# expected fields in the configuration file for this app
configuration:
    
    # UI customization
    menu_name:
        type: str
        default_value: "Add items to your Scene"
        description: Name to appear on the Shotgun menu.

    title_name:
        type: str
        default_value: "Add items to your Scene"
        description: Name to appear on the title of the UI Dialog.


    # hooks
    actions_hook: 
        type: hook
        default_value: "{self}/{engine_name}_actions.py"
        description: Hook which contains all methods for action management.

    filter_publishes_hook:
        type: hook
        default_value: "{self}/filter_publishes.py"
        description: Specify a hook that, if needed, can filter the raw list of publishes returned
                     from Shotgun for the current location.

    action_mappings:
        type: dict
        description: Associates published file types with actions. The actions are all defined
                     inside the actions hook, so a number of actions are available by default 
                     and in addition to this you can add your own actions if you like.
        default_value: {}
        default_value_tk-nuke: 
            Rendered Image: [read_node] 
            Nuke Script: [script_import]
        default_value_tk-maya:
            Maya Scene: [reference]
            Rendered Image: [texture_node]
            Photoshop Image: [texture_node]        
        default_value_tk-motionbuilder: 
            Motionbuilder Fbx: [import]
        default_value_tk-3dsmax:
            3dsmax Scene: [import]
        default_value_tk-photoshop:
            Texture: [open_file]


    entities:
        default_value: 
            - caption: Assets
              entity_type: Asset
              filters: [["project", "is", "{context.project}"]]
              hierarchy: [sg_asset_type, code]
            
            - caption: Shots
              entity_type: Shot
              filters: [["project", "is", "{context.project}"]]
              hierarchy: [sg_sequence, code]
              
            - caption: My Tasks
              entity_type: Task
              filters: 
              - [task_assignees, is, '{context.user}']
              hierarchy: [entity, step, content]
              
    
        type: list
        description: "List of entities for the tree view. 
                      Each item should be a dictionary with keys caption, 
                      entity_type, filters and hierarchy"
        allows_empty: False
        values:
            type: dict

    publish_filters:
        type: list
        description: "List of additional shotgun filters to apply to the publish listings.  These
                      will be applied before any other filtering takes place and would allow you to 
                      for example hide things with a certain status."
        values:
            type: shotgun_filter
        allows_empty: True
        default_value: []

            
# this app works in all engines - it does not contain 
# any host application specific commands
supported_engines: 

# the Shotgun fields that this app needs in order to operate correctly
requires_shotgun_fields:

# More verbose description of this item 
display_name: "Loader"
description: "Locate and Open Files on Disk."

# Required minimum versions for this item to run
requires_shotgun_version:
requires_core_version: "v0.14.45"
requires_engine_version:

# the frameworks required to run this app
frameworks:
    - {"name": "tk-framework-shotgunutils", "version": "v1.x.x"}
    
        